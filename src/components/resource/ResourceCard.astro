---
interface Props {
  title: string
  description: string
  url: string
  category: string
  tags?: string[]
  cover?: string
}

const { title, description, url, category, tags = [], cover } = Astro.props
---

<a
  href={url}
  target="_blank"
  rel="noopener noreferrer"
  class="resource-card group relative flex flex-col gap-3 border border-secondary/15 rounded-xl bg-background p-5 transition-all duration-300 hover:border-primary/50 hover:shadow-sm hover:-translate-y-1"
  data-category={category}
>
  {cover && (
    <div class="mb-3 aspect-video w-full overflow-hidden rounded-lg bg-secondary/5">
      <img
        src={cover}
        alt={title}
        class="h-full w-full object-cover transition-transform duration-500 group-hover:scale-105"
        loading="lazy"
      />
    </div>
  )}
  <div class="flex items-start justify-between">
    <div class="flex items-center gap-2">
      <h3 class="text-lg font-bold transition-colors group-hover:c-primary">
        {title}
      </h3>
      <span class="rounded-full bg-secondary/10 px-2 py-0.5 text-xs c-secondary font-medium">
        {category}
      </span>
    </div>
    <div class="i-carbon-launch h-5 w-5 c-secondary/50 transition-colors group-hover:c-primary" />
  </div>

  <p class="line-clamp-2 text-sm c-secondary/80">
    {description}
  </p>

  {tags.length > 0 && (
    <div class="mt-auto flex flex-wrap gap-2 pt-2">
      {tags.map(tag => (
        <span class="text-xs c-secondary/60">#{tag}</span>
      ))}
    </div>
  )}
</a>
