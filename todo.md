# TODO - Retypeset 功能增强计划

## 🎯 近期优先级（高）

### 1. 阅读进度指示器
- [x] 在页面顶部添加阅读进度条，显示当前文章阅读百分比 (已整合至文章操作栏返回顶部按钮)
- [x] 可配置显示/隐藏，颜色可自定义
- [x] 支持平滑滚动动画

### 2. 文章阅读时间估算
- [x] 自动计算文章字数和预计阅读时间
- [x] 在文章头部展示（如：约 8 分钟阅读）
- [x] 支持中文、繁体中文、英文的语言显示

### 3. 相关文章推荐
- [x] 基于标签匹配推荐相关文章
- [x] 在文章底部显示 2-3 篇相关文章
- [x] 可配置推荐算法（按标签、按分类、按时间）

### 4. 代码高亮主题切换
- [ ] 跟随系统主题自动切换代码高亮配色
- [ ] 支持多种代码主题选择（One Dark, GitHub, Dracula 等）
- [ ] 在设置中可自定义

### 5. 图片懒加载优化
- [x] 自动为文章图片添加 `loading="lazy"` 和 `decoding="async"` 属性
- [x] 实现图片懒加载，提升页面加载速度
- [x] 添加图片加载占位符和骨架屏
- [x] 支持渐进式图片加载

---

## 🚀 中期功能（中）

### 6. 全站搜索功能
- [ ] 实现基于 Pagefind  的全站搜索
- [ ] 支持搜索标题、内容、标签
- [ ] 添加搜索结果高亮
- [x] 快捷键呼出搜索框（如 Cmd/Ctrl + K）
- [ ] **UI 优化（参考设计）**：
  - [ ] 搜索框改为圆角胶囊样式 (Pill shape)
  - [ ] 输入框内左侧添加搜索图标，右侧添加筛选图标
  - [ ] 输入框内显示快捷键提示 (⌘+K)
  - [ ] 优化 Navbar 上的搜索触发按钮样式

### 7. 文章系列/专题
- [ ] 支持将多篇文章组织成系列
- [ ] 系列导航组件（上一篇/下一篇）
- [ ] 系列目录页面展示

### 8. 书签/收藏功能
- [ ] 允许用户在本地收藏喜欢的文章
- [ ] 使用 localStorage 存储
- [ ] 收藏列表页面展示

### 9. 文章点赞与浏览量
- [ ] 集成第三方统计服务（如 Waline、Vercel Analytics）
- [ ] 显示文章浏览次数
- [ ] 简单的点赞功能

### 10. RSS 订阅优化
- [ ] 生成全文 RSS 订阅源
- [ ] 支持分类和标签的独立 RSS
- [ ] 添加 RSS 订阅按钮和引导

### 11. 打印优化样式
- [ ] 专门的打印样式表
- [ ] 隐藏导航、侧边栏等非内容元素
- [ ] 优化页面布局和排版

### 12. 代码块增强
- [ ] 添加代码语言标签显示
- [ ] 支持代码行号显示
- [ ] 代码折叠/展开功能
- [ ] 支持代码 diff 显示

---

## 💡 长期规划（低）

### 13. 深色模式时间自动切换
- [ ] 根据系统时间自动切换主题（如晚上 8 点自动深色）
- [ ] 用户可自定义切换时间
- [ ] 支持地理位置的日出日落时间

### 14. 文章版本历史
- [ ] 记录文章重要修改历史
- [ ] 在文章底部显示"最后更新时间"
- [ ] 链接到 GitHub 提交历史

### 15. 文章评分系统
- [ ] 读者可对文章评分（1-5 星）
- [ ] 显示平均评分
- [ ] 集成第三方评分服务

### 16. 多作者支持
- [ ] 支持多个作者共同创作
- [ ] 作者个人页面
- [ ] 文章筛选按作者

### 17. Newsletter 订阅
- [ ] 邮件订阅功能
- [ ] 集成 Mailchimp、ConvertKit 等服务
- [ ] 订阅表单组件

### 18. 文章归档可视化
- [ ] 时间轴形式的文章归档
- [ ] 按年份、月份折叠展示
- [ ] 可视化数据统计（文章数量趋势图）

### 19. 键盘快捷键
- [ ] 快捷键导航（J/K 上下文章、← → 翻页）
- [ ] 快捷键打开搜索、TOC、分享等功能
- [ ] 快捷键列表展示（? 键）

### 20. PWA 支持
- [ ] 添加 Service Worker
- [ ] 支持离线阅读
- [ ] 可安装到桌面

### 21. 文章草稿系统
- [ ] 支持草稿状态的文章
- [ ] 预览模式（带密码保护）
- [ ] 定时发布功能

### 22. 国际化增强
- [ ] 自动检测用户语言偏好
- [ ] 语言切换器优化
- [ ] 支持更多语言翻译

---

## 🎨 UI/UX 优化

### 23. 动画效果增强
- [ ] 页面切换过渡动画优化
- [ ] 组件进入动画（fade-in、slide-in）
- [ ] 微交互设计（按钮点击、hover 效果）

### 24. 自定义主题配色
- [ ] 主题配色编辑器
- [ ] 多套预设配色方案
- [ ] 用户自定义品牌色

### 25. 响应式字体大小
- [ ] 用户可调节阅读字体大小
- [ ] 三档可选（小、中、大）
- [ ] 设置持久化存储

### 26. 移动端体验优化
- [ ] 底部导航栏
- [ ] 手势操作支持（左右滑切换文章）
- [ ] 阅读模式（隐藏所有干扰元素）

---

## 🔧 技术优化

### 27. 构建性能优化
- [ ] 图片自动压缩和格式转换（WebP）
- [ ] CSS/JS 代码分割和懒加载
- [ ] 预加载关键资源

### 28. SEO 增强
- [ ] 结构化数据（Schema.org）
- [ ] Open Graph 优化
- [ ] Twitter Card 支持
- [ ] 自动生成 FAQ 结构化数据

### 29. 错误处理
- [ ] 自定义 404 页面
- [ ] 友好的错误提示
- [ ] 自动错误日志收集

### 30. 可访问性（A11y）
- [ ] ARIA 标签完善
- [ ] 键盘导航优化
- [ ] 屏幕阅读器支持测试
- [ ] 对比度检查和优化

---

## 📝 内容增强

### 31. Markdown 扩展
- [ ] 自定义容器（提示框、警告框）
- [ ] 支持 footnotes（脚注）
- [ ] 任务列表支持
- [ ] 表格排序功能

### 32. 文章模板
- [ ] 预设文章模板（技术教程、读书笔记、旅行日志等）
- [ ] 快速创建脚本
- [ ] 模板变量替换

### 33. 资源管理
- [ ] 集中管理图片资源
- [ ] CDN 集成
- [ ] 图片画廊组件

---

## 🎁 其他想法

### 34. 主题统计看板
- [ ] 文章总数、总字数统计
- [ ] 标签云展示
- [ ] 写作活跃度可视化

### 35. 评论系统增强
- [ ] 评论通知（邮件/Push）
- [ ] 评论审核后台
- [ ] 评论点赞和回复

### 36. 博客备份
- [ ] 自动备份到云端
- [ ] 导出为 PDF 或 Markdown 压缩包
- [ ] 迁移工具

---

**最后更新：** 2025-11-21
**优先级说明：** 高（1-2 周）、中（1-2 月）、低（长期规划）
